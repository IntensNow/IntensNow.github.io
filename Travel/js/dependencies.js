!function(t){"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=this,o=(e.document||e.ownerDocument).querySelectorAll(t),n=0;o[n]&&o[n]!==e;)++n;return Boolean(o[n])}),"function"!=typeof t.closest&&(t.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null})}(window.Element.prototype),function(){this.Modal=function(t){function e(t,e){var o;for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function o(){var t,e,o;t="string"==typeof this.options.content?this.options.content:this.options.content.innerHTML,o=document.createDocumentFragment(),this.modal=document.createElement("div"),this.modal.className="scotch-modal "+this.options.className,this.modal.style.minWidth=this.options.minWidth+"px",this.modal.style.maxWidth=this.options.maxWidth+"px",this.options.closeButton===!0&&(this.closeButton=document.createElement("button"),this.closeButton.className="scotch-close close-button",this.closeButton.innerHTML="x",this.modal.appendChild(this.closeButton)),this.options.overlay===!0&&(this.overlay=document.createElement("div"),this.overlay.className="scotch-overlay "+this.options.className,o.appendChild(this.overlay)),e=document.createElement("div"),e.className="scotch-content",e.innerHTML=t,this.modal.appendChild(e),this.overlay.appendChild(this.modal),document.body.appendChild(o)}function n(){this.closeButton&&this.closeButton.addEventListener("click",this.close.bind(this)),this.overlay&&this.overlay.addEventListener("click",this.close.bind(this))}function s(){var t=document.createElement("div");return t.style.WebkitTransition?"webkitTransitionEnd":t.style.OTransition?"oTransitionEnd":"transitionend"}this.closeButton=null,this.modal=null,this.overlay=null,this.transitionEnd=s(),Modal.prototype.open=function(){o.call(this),n.call(this);var t=window.getComputedStyle(this.modal).height;this.modal.className=this.modal.className+(window.clientHeight<t?" scotch-open scotch-anchored":" scotch-open"),this.overlay&&(this.overlay.className=this.overlay.className+" scotch-open")},Modal.prototype.close=function(){var t=this;this.modal.className=this.modal.className.replace(" scotch-open",""),this.overlay&&(this.overlay.className=this.overlay.className.replace(" scotch-open","")),this.modal.addEventListener(this.transitionEnd,function(){t.modal.parentNode.removeChild(t.modal)}),this.overlay&&this.overlay.addEventListener(this.transitionEnd,function(){t.overlay.parentNode.removeChild(t.overlay)})};var i={className:"fade-and-drop",closeButton:!0,content:"",maxWidth:600,minWidth:280,overlay:!0};"object"==typeof t&&(this.options=e(i,t))}}();